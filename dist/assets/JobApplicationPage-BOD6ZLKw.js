import{r as i,S as y,j as e,B as v,R as S,W as F}from"./index-BJm5hHGn.js";import{H as f,F as N,T as R}from"./TrustBadges-K0LKyZgp.js";import{u as P}from"./useScrollOnRouteChange-BTnMMuhU.js";import{C as k}from"./CheckCircleIcon-BcO_1wd9.js";import{U as A}from"./UploadIcon-DK6tjOt1.js";import{l as c,i as d}from"./formStyles-DqvmmO9K.js";import{p as D}from"./proseStyles-B81_uwPq.js";import"./SearchIcon-DbBn6_4B.js";import"./ShieldCheckIcon-Cz-BOvG1.js";const L=({job:n})=>{const{addJobApplication:p}=i.useContext(y),[l,s]=i.useState({name:"",email:"",phone:"",coverLetter:""}),[t,o]=i.useState(null),[r,m]=i.useState("idle"),[j,x]=i.useState(""),g=i.useRef(null),u=a=>{s({...l,[a.target.name]:a.target.value})},C=a=>{a.target.files&&a.target.files[0]&&o(a.target.files[0])},w=async a=>{if(a.preventDefault(),!n||!t){x("Please fill out all required fields and attach your resume.");return}x(""),m("loading");const h=new FileReader;h.readAsDataURL(t),h.onload=async()=>{try{const b={jobId:n.id,jobTitle:n.title,...l,resume:{filename:t.name,dataUrl:h.result}};await p(b),m("success")}catch{x("There was an error submitting your application. Please try again."),m("error")}},h.onerror=()=>{x("There was an error reading your resume file. Please try a different file."),m("error")}};return r==="success"?e.jsxs("div",{className:"bg-slate-900/50 border border-green-500/50 rounded-lg p-8 text-center animate-fade-in",children:[e.jsx(k,{className:"w-16 h-16 text-green-400 mx-auto mb-4"}),e.jsx("h2",{className:"text-3xl font-bold text-white",children:"Application Sent!"}),e.jsxs("p",{className:"text-slate-300 mt-2 max-w-lg mx-auto",children:["Thank you, ",l.name.split(" ")[0],". We've received your application for the ",n.title," position and will be in touch if your qualifications are a good fit."]})]}):e.jsxs("div",{className:"bg-slate-900/50 border border-slate-800 rounded-lg p-6 md:p-10",children:[e.jsx("h2",{className:"text-3xl font-bold text-white text-center mb-6",children:"Apply for this Position"}),e.jsxs("form",{onSubmit:w,className:"max-w-2xl mx-auto space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:c,children:"Full Name"}),e.jsx("input",{type:"text",name:"name",id:"name",value:l.name,onChange:u,className:d,required:!0,disabled:r==="loading"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:c,children:"Email Address"}),e.jsx("input",{type:"email",name:"email",id:"email",value:l.email,onChange:u,className:d,required:!0,disabled:r==="loading"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"phone",className:c,children:"Phone (Optional)"}),e.jsx("input",{type:"tel",name:"phone",id:"phone",value:l.phone,onChange:u,className:d,disabled:r==="loading"})]}),e.jsxs("div",{children:[e.jsx("label",{className:c,children:"Resume"}),e.jsx("input",{type:"file",ref:g,onChange:C,accept:".pdf,.doc,.docx,.txt",className:"hidden"}),e.jsxs("button",{type:"button",onClick:()=>{var a;return(a=g.current)==null?void 0:a.click()},className:`${d} !py-3 flex items-center justify-center text-center cursor-pointer hover:bg-slate-800`,disabled:r==="loading",children:[e.jsx(A,{className:"w-5 h-5 mr-2 text-slate-400"}),t?t.name:"Click to upload your resume"]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"coverLetter",className:c,children:"Cover Letter"}),e.jsx("textarea",{name:"coverLetter",id:"coverLetter",rows:6,value:l.coverLetter,onChange:u,className:d,required:!0,disabled:r==="loading",placeholder:"Tell us why you're a great fit for this role..."})]}),j&&e.jsx("p",{className:"text-red-400 text-sm text-center",children:j}),e.jsx("div",{className:"text-center pt-2",children:e.jsx(v,{type:"submit",disabled:r==="loading"||!t,children:r==="loading"?"Submitting...":"Submit Application"})})]})]})},W=()=>{const{route:n}=i.useContext(S),{jobOpenings:p}=i.useContext(y),l=n.split("/careers/")[1],s=p.find(t=>t.id===l);return P(n),s?e.jsxs(e.Fragment,{children:[e.jsx("style",{children:D}),e.jsxs("div",{className:"bg-slate-950 text-white font-sans animate-content-fade-in",children:[e.jsx(F,{}),e.jsx(f,{}),e.jsx("main",{id:"top",className:"relative z-10 pt-24",children:e.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-16",children:e.jsxs("article",{className:"max-w-4xl mx-auto",children:[e.jsxs("header",{className:"text-center mb-12",children:[e.jsxs("p",{className:"text-lg font-semibold text-blue-400",children:[s.type," Â· ",s.location]}),e.jsx("h1",{className:"text-4xl sm:text-6xl font-extrabold text-white leading-tight mt-2",children:s.title}),e.jsxs("p",{className:"text-slate-400 mt-4",children:["Posted on ",new Date(s.datePosted).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]})]}),e.jsxs("div",{className:"prose-custom leading-relaxed bg-slate-900/50 border border-slate-800 rounded-lg p-6 md:p-10",children:[e.jsx("p",{className:"lead text-xl !text-slate-300",children:s.description}),e.jsx("h2",{className:"text-2xl text-blue-400 !mb-3 !mt-8",children:"Responsibilities"}),e.jsx("ul",{children:s.responsibilities.map((t,o)=>e.jsx("li",{children:t},o))}),e.jsx("h2",{className:"text-2xl text-blue-400 !mb-3 !mt-8",children:"Qualifications"}),e.jsx("ul",{children:s.qualifications.map((t,o)=>e.jsx("li",{children:t},o))})]}),e.jsx("section",{id:"apply",className:"mt-16",children:e.jsx(L,{job:s})})]})})}),e.jsx(N,{}),e.jsx(R,{})]})]}):e.jsxs("div",{className:"bg-slate-950 text-white min-h-screen",children:[e.jsx(f,{}),e.jsxs("main",{className:"pt-24 text-center container mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[e.jsx("h1",{className:"text-4xl font-bold",children:"Job Opening Not Found"}),e.jsx("p",{className:"text-slate-400 mt-4",children:"The position you are looking for does not exist or is no longer available."}),e.jsx(v,{href:"/careers",className:"mt-8",children:"Back to Careers"})]}),e.jsx(N,{})]})};export{W as default};
